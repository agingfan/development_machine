# 採用Gitの運用ルール

## 概要

採用しているgit-flowの運用ルールをまとめたものです。

## 目次

- [採用Gitの運用ルール](#採用gitの運用ルール)
  - [概要](#概要)
  - [目次](#目次)
  - [ブランチ一覧](#ブランチ一覧)
  - [ブランチ命名規則](#ブランチ命名規則)
  - [タグルール](#タグルール)
  - [コミットメッセージルール](#コミットメッセージルール)
  - [参考リンク](#参考リンク)

## ブランチ一覧

| ブランチ名 | ブランチ戦略 | 役割 | 適用ルール |
| :--- | :--- | :--- | :--- |
| main | 本番リリースブランチ | 本番環境適用 | 保護ブランチ、プッシュ禁止 |
| develop | デフォルトブランチ | - | 保護ブランチ、プッシュ禁止、デフォルトブランチ、ブランチ削除禁止 |
| feature | 作業ブランチ | 新規機能、追加機能、機能改善 | developへマージ後に削除 |
| hotfix | 作業ブランチ | バグ改修、バグフィックスリリースブランチ、ステージング環境適用 | ブランチ削除禁止 |
| release | ステージングリリースブランチ | ステージング環境適用 | ブランチ削除禁止 |

## ブランチ命名規則

| ブランチ種類 | 命名規約 | 備考 |
| :--- | :--- | :--- |
| feature | feature/[user name]/[issue番号]-new-[概略] | 新規機能 |
| feature | feature/[user name]/[issue番号]-add-[概略] | 追加機能 |
| feature | feature/[user name]/[issue番号]-improvement-[概略] | 機能改善 |
| hotfix | hotfix/[tagバージョン] | 本番環境リリース後につけるtagバージョンをつける(パッチバージョン) |
| release | release/[tagバージョン] | 本番環境リリース後につけるtagバージョンをつける |

## タグルール

| バージョニング種類 | バージョン上昇ルール | 備考 |
| :--- | :--- | :--- |
| メジャー | 新規機能追加、破壊的変更 | マイナー、パッチバージョンを0へ戻す |
| マイナー | 追加機能、機能改善 | パッチバージョンは0へ戻す |
| パッチ | バグ改修 | - |


## コミットメッセージルール

コミットメッセージにはコミットの内容を理解しやすくするためにプレフィックスを付けます。

| プレフィックス | ルール |
| :--- | :--- |
| feat: | 新規機能 |
| add: | 追加機能 |
| imp: | 機能改善 |
| fix: | バグの修正 |
| docs: | ドキュメントのみの変更 |
| style: | 空白、フォーマット、セミコロン追加など |
| refactor: | 仕様に影響がないコード改善(リファクタ) |
| perf: | パフォーマンス向上関連 |
| test: | テスト関連 |
| chore: | ビルド、補助ツール、ライブラリ関連 |

~~~sh
# [Example]
add: ユーザー一覧機能の追加

# リポジトリ作成後の初回のコミットには以下のコミットメッセージが使用します。
first commit
~~~

## 参考リンク

- [github-markdown-css CDN](https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.1.0/github-markdown.min.css)
- [Githubで特定のブランチを保護して、直pushや削除を防止する](https://maasaablog.com/development/git/github/2881/#toc3)
- [業務でよくみるGitの運用方法について勉強する](https://qiita.com/kenogi/items/906f69a64be36e2c1b5d)
- [僕が考える最強のコミットメッセージの書き方](https://qiita.com/konatsu_p/items/dfe199ebe3a7d2010b3e)
